# COET - ä¸ªäººç”Ÿæ´»è®°å½•ç³»ç»Ÿ

[![License: ISC](https://img.shields.io/badge/License-ISC-blue.svg)](https://opensource.org/licenses/ISC)
[![Node.js Version](https://img.shields.io/badge/node-%3E%3D14.0.0-brightgreen)](https://nodejs.org)
[![Express](https://img.shields.io/badge/Express-5.x-lightgrey)](https://expressjs.com)

> ğŸ¯ **COET** (Chronicle of Everyday Things) - ä¸€ä¸ªè½»é‡çº§ã€å¯ç§æœ‰éƒ¨ç½²çš„ä¸ªäººç©ºé—´ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨ç°ä»£ Glassmorphismï¼ˆæ¯›ç»ç’ƒï¼‰è®¾è®¡é£æ ¼ï¼Œè®©æ‚¨è½»æ¾è®°å½•ç”Ÿæ´»ç¬é—´ã€ç®¡ç†å¾…åŠäº‹é¡¹å¹¶è¿½è¸ªé‡è¦çºªå¿µæ—¥ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ—£ï¸ è¯´è¯´ (Talks) - åŠ¨æ€å‘å¸ƒç³»ç»Ÿ
- **å¤šæ¨¡æ€å†…å®¹æ”¯æŒ**ï¼šçº¯æ–‡æœ¬ã€Markdown å¯Œæ–‡æœ¬ã€å›¾ç‰‡ï¼ˆæœ€å¤š9å¼ ï¼‰ã€è§†é¢‘ï¼ˆæœ¬åœ°/BilibiliåµŒå…¥ï¼‰
- **æ™ºèƒ½åˆ†ç±»**ï¼šæ ‡ç­¾ç³»ç»Ÿ + åœ°ç†ä½ç½®æ ‡è®°ï¼ˆè‡ªåŠ¨è·å–ï¼‰
- **å†…å®¹ç®¡ç†**ï¼šç½®é¡¶ã€æ”¶è—ã€åˆ é™¤åŠŸèƒ½
- **Markdown æ¸²æŸ“**ï¼šæ”¯æŒ GFM è¯­æ³•ï¼ˆæ ‡é¢˜ã€ç²—ä½“ã€æ–œä½“ã€ä»£ç ã€å¼•ç”¨ã€é“¾æ¥ã€åˆ—è¡¨ï¼‰
- **æ™ºèƒ½æ’åº**ï¼šç½®é¡¶ä¼˜å…ˆ â†’ æ—¶é—´å€’åº

### âœ… å¾…åŠäº‹é¡¹ (Todo List) - ä»»åŠ¡ç®¡ç†
- **ä¸‰çº§ä¼˜å…ˆçº§**ï¼šé«˜ï¼ˆç´§æ€¥ï¼‰ã€ä¸­ï¼ˆæ™®é€šï¼‰ã€ä½ï¼ˆä¸æ€¥ï¼‰
- **æ—¶é—´è¿½è¸ª**ï¼šåˆ›å»ºæ—¶é—´ã€å¼€å§‹æ—¶é—´ã€æˆªæ­¢æ—¶é—´ã€å®Œæˆæ—¶é—´
- **é€¾æœŸæ£€æµ‹**ï¼šè‡ªåŠ¨æ ‡è®°é€¾æœŸä»»åŠ¡
- **æ™ºèƒ½æ’åº**ï¼šæœªå®Œæˆä¼˜å…ˆ â†’ é€¾æœŸä¼˜å…ˆ â†’ ä¼˜å…ˆçº§æ’åº â†’ æˆªæ­¢æ—¶é—´
- **æ‰¹é‡æ“ä½œ**ï¼šä¸€é”®æ¸…é™¤æ‰€æœ‰å·²å®Œæˆä»»åŠ¡

### ğŸ“… çºªå¿µæ—¥ (Anniversaries) - é‡è¦æ—¥æœŸè¿½è¸ª
- **6 ç§åˆ†ç±»**ï¼šç”Ÿæ—¥ã€æ‹çˆ±ã€å·¥ä½œã€å­¦ä¹ ã€èŠ‚æ—¥ã€å…¶ä»–
- **è‡ªåŠ¨è®¡ç®—**ï¼šå€’è®¡æ—¶å¤©æ•° + å¹´ä»½ï¼ˆç¬¬ N å¹´ï¼‰
- **è§†è§‰åŒºåˆ†**ï¼šæ¯ç§åˆ†ç±»ç‹¬ç‰¹çš„é¢œè‰²æ ‡è¯†
- **ç½®é¡¶åŠŸèƒ½**ï¼šé‡è¦æ—¥æœŸä¼˜å…ˆæ˜¾ç¤º
- **æŠ˜å æ˜¾ç¤º**ï¼šè¶…è¿‡3ä¸ªè‡ªåŠ¨æŠ˜å ï¼Œä¿æŒç•Œé¢æ•´æ´

### ğŸ“Š æ•°æ®ç»Ÿè®¡ä¸ä»ªè¡¨ç›˜
- **å…³é”®æŒ‡æ ‡**ï¼šè¯´è¯´æ€»æ•°ã€è¿è¡Œå¤©æ•°ã€å¾…åŠå®Œæˆç‡ã€ä»Šæ—¥å®Œæˆæ•°
- **åŠ¨ç”»æ•ˆæœ**ï¼šæ•°å­—é€’å¢åŠ¨ç”»ã€è¿›åº¦æ¡å¡«å……åŠ¨ç”»
- **äº¤äº’è”åŠ¨**ï¼šç‚¹å‡»ç»Ÿè®¡å¡ç‰‡æ»šåŠ¨åˆ°å¯¹åº”åŒºåŸŸ
- **å¯è§†åŒ–å±•ç¤º**ï¼šç›´è§‚çš„æ•°æ®æ¦‚è§ˆ

### ğŸ“… æœˆåº¦æ—¥å†ç»„ä»¶
- **æœˆåº¦è§†å›¾**ï¼šæœˆä»½åˆ‡æ¢ã€ä»Šæ—¥é«˜äº®
- **å†œå†æ”¯æŒ**ï¼šæ˜¾ç¤ºå†œå†æ—¥æœŸã€èŠ‚æ°”ã€èŠ‚æ—¥
- **æ•°æ®çƒ­åŠ›ç‚¹**ï¼šè¯´è¯´ï¼ˆè“ï¼‰ã€å¾…åŠï¼ˆæ©™çº¢ï¼‰ã€çºªå¿µæ—¥ï¼ˆç»¿ï¼‰
- **æ—¥æœŸç­›é€‰**ï¼šç‚¹å‡»æ—¥æœŸæŸ¥çœ‹å½“æ—¥æ‰€æœ‰å†…å®¹
- **å›¾ä¾‹è¯´æ˜**ï¼šæ¸…æ™°çš„é¢œè‰²æ ‡è¯†

### ğŸ·ï¸ æ ‡ç­¾äº‘ç³»ç»Ÿ
- **åŠ¨æ€å¤§å°**ï¼šæ ¹æ®ä½¿ç”¨é¢‘ç‡è°ƒæ•´æ ‡ç­¾å°ºå¯¸ï¼ˆå¤§/ä¸­/å°ï¼‰
- **8 è‰²ä¸»é¢˜**ï¼šä¸°å¯Œçš„é¢œè‰²å¾ªç¯
- **ç‚¹å‡»ç­›é€‰**ï¼šç‚¹å‡»æ ‡ç­¾ç­›é€‰ç›¸å…³å†…å®¹
- **ä½¿ç”¨ç»Ÿè®¡**ï¼šæ˜¾ç¤ºæ¯ä¸ªæ ‡ç­¾çš„ä½¿ç”¨æ¬¡æ•°
- **æ´»è·ƒé«˜äº®**ï¼šå½“å‰ç­›é€‰æ ‡ç­¾é«˜äº®æ˜¾ç¤º

### âš™ï¸ ä¸ªæ€§åŒ–è®¾ç½®
- **ç«™ç‚¹é…ç½®**ï¼šæ ‡é¢˜ã€å›¾æ ‡ã€Faviconã€ä¸»é¢˜é¢œè‰²
- **ç”¨æˆ·èµ„æ–™**ï¼šå¤´åƒã€æ˜µç§°ã€ä¸ªäººç®€ä»‹ã€è®¤è¯å¾½ç« 
- **ä¸»é¢˜åˆ‡æ¢**ï¼šæµ…è‰²/æ·±è‰²æ¨¡å¼æ”¯æŒ
- **å®æ—¶é¢„è§ˆ**ï¼šè®¾ç½®æ›´æ”¹å³æ—¶ç”Ÿæ•ˆ

### ğŸ”’ å®‰å…¨ä¸ç³»ç»Ÿ
- **JWT è®¤è¯**ï¼š30å¤© Token æœ‰æ•ˆæœŸ
- **å¯†ç åŠ å¯†**ï¼šbcrypt å“ˆå¸Œï¼ˆsalt rounds: 10ï¼‰
- **æ•°æ®å¤‡ä»½**ï¼šå¯¼å‡º/å¯¼å…¥ JSON æ ¼å¼å¤‡ä»½
- **å®‰å…¨ä¸­é—´ä»¶**ï¼šHelmetï¼ˆHTTP å¤´éƒ¨å®‰å…¨ï¼‰ã€CORSã€Rate Limiter
- **è½»é‡å­˜å‚¨**ï¼šæœ¬åœ° JSON æ•°æ®åº“ï¼Œæ— éœ€å¤æ‚æ•°æ®åº“é…ç½®

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **è¿è¡Œç¯å¢ƒ**ï¼šNode.js (>=14.0.0)
- **Web æ¡†æ¶**ï¼šExpress.js 5.x
- **èº«ä»½è®¤è¯**ï¼šJWT (jsonwebtoken) + bcryptjs
- **å®‰å…¨é˜²æŠ¤**ï¼š
  - [Helmet](https://helmetjs.github.io/) - HTTP å¤´éƒ¨å®‰å…¨
  - [CORS](https://github.com/expressjs/cors) - è·¨åŸŸèµ„æºå…±äº«
  - [express-rate-limit](https://github.com/nfriedly/express-rate-limit) - API é€Ÿç‡é™åˆ¶
- **æ—¥å¿—è®°å½•**ï¼š[Morgan](https://github.com/expressjs/morgan)
- **æ–‡ä»¶ä¸Šä¼ **ï¼š[Multer](https://github.com/expressjs/multer)

### å‰ç«¯æŠ€æœ¯
- **æ ¸å¿ƒè¯­è¨€**ï¼šåŸç”Ÿ JavaScript (ES6+ Modules)
- **æ ·å¼æŠ€æœ¯**ï¼šCSS3 + Glassmorphismï¼ˆæ¯›ç»ç’ƒï¼‰è®¾è®¡
- **å›¾æ ‡åº“**ï¼š
  - [Font Awesome 6.0.0](https://fontawesome.com/)
  - [Remix Icon 3.5.0](https://remixicon.com/)
- **å­—ä½“**ï¼šInter (Google Fonts) + Microsoft YaHei
- **å†œå†æ”¯æŒ**ï¼š[lunar-javascript](https://github.com/6tail/lunar-javascript)
- **åœ°ç†ä½ç½®**ï¼šæµè§ˆå™¨ Geolocation API + [OpenStreetMap Nominatim](https://nominatim.openstreetmap.org/)

### æ•°æ®å­˜å‚¨
- **å­˜å‚¨æ–¹å¼**ï¼šæœ¬åœ° JSON æ–‡ä»¶ (`data/db.json`)
- **ä¼˜åŠ¿**ï¼šé›¶é…ç½®ã€è½»é‡çº§ã€æ˜“äºå¤‡ä»½ã€å¯ç§»æ¤æ€§é«˜
- **è‡ªåŠ¨åˆå§‹åŒ–**ï¼šé¦–æ¬¡è¿è¡Œè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“æ–‡ä»¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js** >= 14.0.0
- **npm** (é€šå¸¸éš Node.js ä¸€èµ·å®‰è£…)

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/Perimsx/coet.git
   cd coet
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

3. **å¯åŠ¨åº”ç”¨**

   **å¼€å‘æ¨¡å¼**ï¼ˆä½¿ç”¨ Nodemon çƒ­é‡è½½ï¼‰ï¼š
   ```bash
   npm run dev
   ```

   **ç”Ÿäº§æ¨¡å¼**ï¼š
   ```bash
   npm start
   ```

4. **è®¿é—®åº”ç”¨**

   å¯åŠ¨åï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
   ```
   http://localhost:3000
   ```

### é»˜è®¤å¯†ç 

é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºç®¡ç†å‘˜è´¦å·ï¼Œ**ç”¨æˆ·åå›ºå®šä¸º `admin`**ï¼š

| é…ç½®é¡¹ | å€¼ |
|--------|-----|
| **ç”¨æˆ·å** | `admin`ï¼ˆè‡ªåŠ¨å¡«å……ï¼Œæ— éœ€è¾“å…¥ï¼‰|
| **é»˜è®¤å¯†ç ** | `admin` |

> âš ï¸ **å®‰å…¨æç¤º**ï¼šç™»å½•åè¯·åœ¨è®¾ç½®é¡µé¢ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼

### æ•°æ®åˆå§‹åŒ–

- æ•°æ®åº“æ–‡ä»¶ï¼š`data/db.json`
- ä¸Šä¼ æ–‡ä»¶ç›®å½•ï¼š`public/uploads/`
- é¦–æ¬¡è¿è¡Œæ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºè¿™äº›ç›®å½•å’Œæ–‡ä»¶ã€‚

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
coet/
â”œâ”€â”€ data/                        # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â””â”€â”€ db.json                  # JSON æ•°æ®åº“æ–‡ä»¶
â”‚
â”œâ”€â”€ public/                      # å‰ç«¯é™æ€èµ„æº
â”‚   â”œâ”€â”€ index.html               # ä¸»é¡µï¼ˆç™»å½•åçš„åº”ç”¨ç•Œé¢ï¼‰
â”‚   â”œâ”€â”€ login.html               # ç™»å½•é¡µ
â”‚   â”œâ”€â”€ uploads/                 # ç”¨æˆ·ä¸Šä¼ çš„åª’ä½“æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ *.jpg|*.png|*.mp4    # å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶
â”‚   â”‚
â”‚   â””â”€â”€ assets/                  # é™æ€èµ„æº
â”‚       â”œâ”€â”€ css/                 # æ ·å¼æ–‡ä»¶
â”‚       â”‚   â”œâ”€â”€ style.css                 # ä¸»æ ·å¼ï¼ˆGlassmorphismï¼‰
â”‚       â”‚   â”œâ”€â”€ toast.css                 # Toast é€šçŸ¥æ ·å¼
â”‚       â”‚   â”œâ”€â”€ tags.css                  # æ ‡ç­¾äº‘æ ·å¼
â”‚       â”‚   â””â”€â”€ markdown_calendar.css     # Markdown + æ—¥å†æ ·å¼
â”‚       â”‚
â”‚       â””â”€â”€ js/                  # JavaScript æ¨¡å—
â”‚           â””â”€â”€ main.js          # å…¥å£æ–‡ä»¶
â”‚           â””â”€â”€ modules/         # åŠŸèƒ½æ¨¡å—
â”‚               â”œâ”€â”€ api.js              # API å°è£…
â”‚               â”œâ”€â”€ auth.js             # è®¤è¯é€»è¾‘
â”‚               â”œâ”€â”€ store.js            # å…¨å±€çŠ¶æ€ç®¡ç†
â”‚               â”œâ”€â”€ utils.js            # å·¥å…·å‡½æ•°
â”‚               â”œâ”€â”€ talks.js            # è¯´è¯´æ¨¡å—
â”‚               â”œâ”€â”€ todos.js            # å¾…åŠæ¨¡å—
â”‚               â”œâ”€â”€ anniversaries.js    # çºªå¿µæ—¥æ¨¡å—
â”‚               â”œâ”€â”€ calendar.js         # æ—¥å†ç»„ä»¶
â”‚               â”œâ”€â”€ stats.js            # ç»Ÿè®¡é¢æ¿
â”‚               â”œâ”€â”€ settings.js         # è®¾ç½®æ¨¡å—
â”‚               â”œâ”€â”€ markdown.js         # Markdown æ¸²æŸ“
â”‚               â””â”€â”€ backup.js           # å¤‡ä»½æ¨¡å—
â”‚
â”œâ”€â”€ src/                         # åç«¯æºä»£ç 
â”‚   â”œâ”€â”€ routes/                  # è·¯ç”±å®šä¹‰
â”‚   â”‚   â””â”€â”€ api.js               # API è·¯ç”±èšåˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/             # ä¸šåŠ¡é€»è¾‘æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ authController.js           # è®¤è¯æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ talkController.js           # è¯´è¯´æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ todoController.js           # å¾…åŠæ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ anniversaryController.js    # çºªå¿µæ—¥æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ settingController.js        # è®¾ç½®æ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ systemController.js         # ç³»ç»Ÿæ§åˆ¶å™¨ï¼ˆç»Ÿè®¡ã€å¤‡ä»½ã€æ ‡ç­¾ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                  # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ db.js                # æ•°æ®åº“æ“ä½œ
â”‚   â”‚
â”‚   â””â”€â”€ middlewares/             # ä¸­é—´ä»¶
â”‚       â”œâ”€â”€ auth.js              # JWT è®¤è¯ä¸­é—´ä»¶
â”‚       â””â”€â”€ upload.js            # Multer æ–‡ä»¶ä¸Šä¼ é…ç½®
â”‚
â”œâ”€â”€ server.js                    # Express æœåŠ¡å™¨å…¥å£
â”œâ”€â”€ package.json                 # é¡¹ç›®ä¾èµ–é…ç½®
â””â”€â”€ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ“¡ API æ–‡æ¡£

### è®¤è¯ç›¸å…³

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° | è®¤è¯ |
|------|------|------|------|
| `/api/auth/login` | POST | ç”¨æˆ·ç™»å½• | âŒ |
| `/api/auth/check` | GET | éªŒè¯ Token æœ‰æ•ˆæ€§ | âœ… |

**ç™»å½•è¯·æ±‚ç¤ºä¾‹ï¼š**
```json
POST /api/auth/login
{
  "password": "admin"
}
```

> ğŸ’¡ **æç¤º**ï¼šç”¨æˆ·åè‡ªåŠ¨é»˜è®¤ä¸º `admin`ï¼Œæ— éœ€åœ¨è¯·æ±‚ä¸­æŒ‡å®šã€‚

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "admin",
    "username": "admin"
  }
}
```

### è¯´è¯´ç®¡ç†

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° | è®¤è¯ |
|------|------|------|------|
| `/api/talks` | GET | è·å–æ‰€æœ‰è¯´è¯´ | âŒ |
| `/api/talks` | POST | åˆ›å»ºæ–°è¯´è¯´ | âœ… |
| `/api/talks/:id` | DELETE | åˆ é™¤è¯´è¯´ | âœ… |
| `/api/talks/:id/pin` | PUT | åˆ‡æ¢ç½®é¡¶çŠ¶æ€ | âœ… |
| `/api/talks/:id/favorite` | PUT | åˆ‡æ¢æ”¶è—çŠ¶æ€ | âœ… |

**åˆ›å»ºè¯´è¯´è¯·æ±‚ç¤ºä¾‹ï¼š**
```json
POST /api/talks
Content-Type: multipart/form-data

{
  "title": "ä»Šå¤©å¤©æ°”çœŸå¥½",
  "content": "# Markdown æ”¯æŒ\n\nä»Šå¤©æ˜¯ä¸ªå¥½æ—¥å­ï¼",
  "tags": ["ç”Ÿæ´»", "æ—¥å¸¸"],
  "location": "åŒ—äº¬å¸‚æœé˜³åŒº",
  "images": [File, File],  // æœ€å¤š 9 å¼ 
  "video": "https://www.bilibili.com/video/..." // æˆ–æœ¬åœ°è§†é¢‘
}
```

### å¾…åŠç®¡ç†

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° | è®¤è¯ |
|------|------|------|------|
| `/api/todos` | GET | è·å–å¾…åŠåˆ—è¡¨ | âœ… |
| `/api/todos` | POST | æ·»åŠ æ–°å¾…åŠ | âœ… |
| `/api/todos/:id` | PUT | åˆ‡æ¢å®ŒæˆçŠ¶æ€ | âœ… |
| `/api/todos/:id` | DELETE | åˆ é™¤å¾…åŠ | âœ… |
| `/api/todos/clear-completed` | DELETE | æ¸…é™¤æ‰€æœ‰å·²å®Œæˆå¾…åŠ | âœ… |

**åˆ›å»ºå¾…åŠè¯·æ±‚ç¤ºä¾‹ï¼š**
```json
POST /api/todos
{
  "content": "å®Œæˆé¡¹ç›®æ–‡æ¡£",
  "priority": "high",  // high | normal | low
  "endTime": "2026-01-31T18:00"
}
```

### çºªå¿µæ—¥ç®¡ç†

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° | è®¤è¯ |
|------|------|------|------|
| `/api/anniversaries` | GET | è·å–æ‰€æœ‰çºªå¿µæ—¥ | âŒ |
| `/api/anniversaries` | POST | æ·»åŠ çºªå¿µæ—¥ | âœ… |
| `/api/anniversaries/:id` | DELETE | åˆ é™¤çºªå¿µæ—¥ | âœ… |
| `/api/anniversaries/:id/pin` | PUT | åˆ‡æ¢ç½®é¡¶çŠ¶æ€ | âœ… |

**åˆ›å»ºçºªå¿µæ—¥è¯·æ±‚ç¤ºä¾‹ï¼š**
```json
POST /api/anniversaries
{
  "title": "æ‹çˆ±çºªå¿µæ—¥",
  "date": "2020-05-20",
  "category": "love"  // birthday | love | work | study | festival | other
}
```

### è®¾ç½®ç®¡ç†

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° | è®¤è¯ |
|------|------|------|------|
| `/api/settings` | GET | è·å–ç«™ç‚¹è®¾ç½® | âŒ |
| `/api/settings` | PUT | æ›´æ–°ç«™ç‚¹è®¾ç½® | âœ… |

### ç³»ç»ŸåŠŸèƒ½

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° | è®¤è¯ |
|------|------|------|------|
| `/api/stats` | GET | è·å–æ•°æ®ç»Ÿè®¡ | âŒ |
| `/api/tags` | GET | è·å–æ‰€æœ‰æ ‡ç­¾åŠä½¿ç”¨æ¬¡æ•° | âŒ |
| `/api/backup/export` | GET | å¯¼å‡ºæ•°æ®å¤‡ä»½ | âœ… |
| `/api/backup/import` | POST | å¯¼å…¥æ•°æ®å¤‡ä»½ | âœ… |

---

## ğŸ“Š æ•°æ®ç»“æ„

### æ•°æ®åº“ç»“æ„ (`data/db.json`)

```json
{
  "users": [
    {
      "id": "admin",
      "username": "admin",
      "password": "$2b$10$..."  // bcrypt å“ˆå¸Œ
    }
  ],
  "talks": [
    {
      "id": "1706630400000",
      "title": "è¯´è¯´æ ‡é¢˜",
      "content": "è¯´è¯´å†…å®¹",
      "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
      "location": "åŒ—äº¬å¸‚æœé˜³åŒº",
      "images": ["uploads/1706630400000-abc123.jpg"],
      "video": "https://www.bilibili.com/video/...",
      "isPinned": false,
      "isFavorite": false,
      "createdAt": "2026-01-30T10:00:00.000Z"
    }
  ],
  "todos": [
    {
      "id": "unique-id-123",
      "content": "å¾…åŠå†…å®¹",
      "priority": "high",  // high | normal | low
      "completed": false,
      "startTime": "2026-01-30T09:00:00.000Z",
      "endTime": "2026-01-31T18:00:00.000Z",
      "completedAt": null,
      "createdAt": "2026-01-30T08:00:00.000Z"
    }
  ],
  "anniversaries": [
    {
      "id": "1706630400000",
      "title": "ç”Ÿæ—¥",
      "date": "1990-05-20",
      "category": "birthday",  // birthday | love | work | study | festival | other
      "pinned": false
    }
  ],
  "settings": {
    "siteTitle": "æˆ‘çš„ç©ºé—´",
    "siteIcon": "fas fa-meteor",
    "siteFavicon": "uploads/...",
    "userNickname": "ç®¡ç†å‘˜",
    "userAvatar": "uploads/...",
    "userBio": "è¿™æ˜¯æˆ‘çš„ä¸ªäººç©ºé—´",
    "badgeIcon": "ri-verified-badge-fill",
    "badgeColor": "#1da1f2",
    "verified": true,
    "primaryColor": "#5c8df0"
  }
}
```

### çºªå¿µæ—¥åˆ†ç±»é…è‰²

| åˆ†ç±» | è‹±æ–‡æ ‡è¯† | é¢œè‰² |
|------|----------|------|
| ç”Ÿæ—¥ | `birthday` | #FF6B9Dï¼ˆç²‰çº¢ï¼‰|
| æ‹çˆ± | `love` | #FF5757ï¼ˆçº¢ï¼‰|
| å·¥ä½œ | `work` | #5B8CFFï¼ˆè“ï¼‰|
| å­¦ä¹  | `study` | #4ADE80ï¼ˆç»¿ï¼‰|
| èŠ‚æ—¥ | `festival` | #FF9F43ï¼ˆæ©™ï¼‰|
| å…¶ä»– | `other` | #94A3B8ï¼ˆç°ï¼‰|

---

## ğŸŒŸ ç‰¹è‰²äº®ç‚¹

### 1. é›¶ä¾èµ–å‰ç«¯
- å®Œå…¨ä½¿ç”¨åŸç”Ÿ JavaScriptï¼ˆVanilla JSï¼‰ï¼Œæ— å‰ç«¯æ¡†æ¶
- ES6 æ¨¡å—åŒ–æ¶æ„ï¼Œä»£ç æ¸…æ™°æ˜“ç»´æŠ¤
- æè‡´è½»é‡ï¼Œé¡µé¢åŠ è½½å¿«é€Ÿ

### 2. Glassmorphism è®¾è®¡é£æ ¼
- ç°ä»£æ¯›ç»ç’ƒæ•ˆæœ
- 85% é€æ˜ç™½è‰²èƒŒæ™¯ + backdrop-filter æ¨¡ç³Š
- ç»Ÿä¸€çš„ 16px åœ†è§’æ ‡å‡†
- ä¼˜é›…çš„æ‚¬åœåŠ¨ç”»å’Œå…‰æ³½æ‰«è¿‡æ•ˆæœ

### 3. å†œå†æ”¯æŒ
- é›†æˆ lunar-javascript åº“
- å¯¼èˆªæ å®æ—¶æ˜¾ç¤ºå†œå†æ—¥æœŸ
- æ”¯æŒèŠ‚æ°”ã€èŠ‚æ—¥æ˜¾ç¤º
- æ—¥å†ç»„ä»¶ä¸­åŒæ­¥æ˜¾ç¤ºå†œå†

### 4. åœ°ç†ä½ç½®æœåŠ¡
- ä½¿ç”¨æµè§ˆå™¨ Geolocation API è‡ªåŠ¨å®šä½
- OpenStreetMap Nominatim åå‘åœ°ç†ç¼–ç 
- å…è´¹ã€æ— éœ€ API å¯†é’¥
- æ˜¾ç¤ºæ ¼å¼ï¼šåŸå¸‚Â·åŒºå¿

### 5. æ™ºèƒ½æ’åºç³»ç»Ÿ
- **è¯´è¯´**ï¼šç½®é¡¶ä¼˜å…ˆ â†’ æ—¶é—´å€’åº
- **å¾…åŠ**ï¼šæœªå®Œæˆä¼˜å…ˆ â†’ é€¾æœŸä¼˜å…ˆ â†’ ä¼˜å…ˆçº§ â†’ æˆªæ­¢æ—¶é—´
- **çºªå¿µæ—¥**ï¼šç½®é¡¶ä¼˜å…ˆ â†’ å€’è®¡æ—¶å‡åº

### 6. å®æ—¶æ•°æ®è”åŠ¨
- æ—¥å†çƒ­åŠ›ç‚¹åæ˜ å†…å®¹åˆ†å¸ƒ
- ç»Ÿè®¡å¡ç‰‡ç‚¹å‡»æ»šåŠ¨åˆ°å¯¹åº”åŒºåŸŸ
- æ ‡ç­¾ç­›é€‰è”åŠ¨è¯´è¯´åˆ—è¡¨
- æ—¥æœŸç­›é€‰è”åŠ¨æ‰€æœ‰å†…å®¹ç±»å‹

### 7. Toast é€šçŸ¥ç³»ç»Ÿ
- 4 ç§ç±»å‹ï¼šsuccessã€errorã€warningã€info
- è‡ªåŠ¨æ¶ˆå¤±ï¼ˆ3 ç§’ï¼‰
- æ»‘å…¥æ»‘å‡ºåŠ¨ç”»
- å¯å †å æ˜¾ç¤º

---

## ğŸš¢ éƒ¨ç½²æŒ‡å—

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### 1. ä½¿ç”¨ PM2ï¼ˆæ¨èï¼‰

```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨åº”ç”¨
pm2 start server.js --name coet

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save

# å¸¸ç”¨å‘½ä»¤
pm2 list          # æŸ¥çœ‹è¿›ç¨‹åˆ—è¡¨
pm2 logs coet     # æŸ¥çœ‹æ—¥å¿—
pm2 restart coet  # é‡å¯åº”ç”¨
pm2 stop coet     # åœæ­¢åº”ç”¨
```

#### 2. ä½¿ç”¨ Docker

åˆ›å»º `Dockerfile`ï¼š
```dockerfile
FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install --production

COPY . .

EXPOSE 3000

CMD ["node", "server.js"]
```

æ„å»ºå’Œè¿è¡Œï¼š
```bash
docker build -t coet .
docker run -d -p 3000:3000 -v $(pwd)/data:/app/data coet
```

#### 3. ä½¿ç”¨ Nginx åå‘ä»£ç†

Nginx é…ç½®ç¤ºä¾‹ï¼š
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
```

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰ï¼š
```env
PORT=3000
NODE_ENV=production
```

### å®‰å…¨å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **ï¼šç™»å½•åç«‹å³ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
2. **é…ç½® HTTPS**ï¼šä½¿ç”¨ Let's Encrypt å…è´¹è¯ä¹¦
3. **è®¾ç½®é˜²ç«å¢™**ï¼šé™åˆ¶ç«¯å£è®¿é—®
4. **å®šæœŸå¤‡ä»½**ï¼šå®šæœŸå¯¼å‡ºæ•°æ®å¤‡ä»½
5. **æ›´æ–°ä¾èµ–**ï¼šä¿æŒä¾èµ–åŒ…æœ€æ–°ç‰ˆæœ¬

---

## â“ å¸¸è§é—®é¢˜

### 1. å¦‚ä½•ä¿®æ”¹ç«¯å£ï¼Ÿ
åœ¨ `.env` æ–‡ä»¶ä¸­è®¾ç½® `PORT` å˜é‡ï¼Œæˆ–ç›´æ¥ä¿®æ”¹ `server.js`ï¼š
```javascript
const PORT = process.env.PORT || 8080; // æ”¹ä¸º 8080
```

### 2. å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ
ç™»å½•åï¼Œè¿›å…¥è®¾ç½®é¡µé¢ï¼Œç‚¹å‡»"å¯¼å‡ºæ•°æ®"å³å¯ä¸‹è½½ JSON å¤‡ä»½æ–‡ä»¶ã€‚

### 3. å¦‚ä½•è¿ç§»åˆ°æ–°æœåŠ¡å™¨ï¼Ÿ
1. åœ¨æ—§æœåŠ¡å™¨å¯¼å‡ºæ•°æ®å¤‡ä»½
2. åœ¨æ–°æœåŠ¡å™¨å®‰è£… COET
3. å¯¼å…¥æ•°æ®å¤‡ä»½æ–‡ä»¶

### 4. ä¸Šä¼ æ–‡ä»¶å¤§å°é™åˆ¶æ˜¯å¤šå°‘ï¼Ÿ
- å›¾ç‰‡ï¼šå•å¼ æœ€å¤§ 10MB
- è¯´è¯´æœ€å¤šæ”¯æŒ 9 å¼ å›¾ç‰‡
- å¤‡ä»½æ–‡ä»¶æœ€å¤§ 10MB

### 5. å¦‚ä½•è‡ªå®šä¹‰ä¸»é¢˜é¢œè‰²ï¼Ÿ
ç™»å½•åï¼Œè¿›å…¥è®¾ç½®é¡µé¢ï¼Œåœ¨"ä¸»é¢˜é¢œè‰²"ä¸­é€‰æ‹©æ‚¨å–œæ¬¢çš„é¢œè‰²ã€‚

### 6. æ˜¯å¦æ”¯æŒå¤šç”¨æˆ·ï¼Ÿ
å½“å‰ç‰ˆæœ¬ä»…æ”¯æŒå•ç”¨æˆ·æ¨¡å¼ï¼Œé€‚åˆä¸ªäººä½¿ç”¨ã€‚

### 7. å¦‚ä½•æ¸…é™¤ç¼“å­˜ï¼Ÿ
å‰ç«¯ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜ï¼Œå¯ä»¥é€šè¿‡ `Ctrl + F5` å¼ºåˆ¶åˆ·æ–°ã€‚

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **ISC** è®¸å¯è¯ã€‚

---

## ğŸ™ è‡´è°¢

- [Express.js](https://expressjs.com/) - å¿«é€Ÿã€å¼€æ”¾ã€æç®€çš„ Web æ¡†æ¶
- [Font Awesome](https://fontawesome.com/) - ä¼˜ç§€çš„å›¾æ ‡åº“
- [Remix Icon](https://remixicon.com/) - å¼€æºå›¾æ ‡åº“
- [lunar-javascript](https://github.com/6tail/lunar-javascript) - å†œå†è®¡ç®—åº“
- [OpenStreetMap](https://www.openstreetmap.org/) - å…è´¹çš„åœ°å›¾æœåŠ¡

---

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µï¼š[github.com/Perimsx/coet](https://github.com/Perimsx/coet)
- é—®é¢˜åé¦ˆï¼š[Issues](https://github.com/Perimsx/coet/issues)

---

<p align="center">
  <b>ç”¨ â¤ï¸ æ‰“é€ çš„ä¸ªäººç©ºé—´</b>
</p>

<p align="center">
  <sub>Built with Node.js, Express, and Vanilla JavaScript</sub>
</p>
<img width="3007" height="1871" alt="image" src="https://github.com/user-attachments/assets/898cbfb4-886b-4af1-a7c6-9693ab1d0a86" />
